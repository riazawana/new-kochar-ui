
<div class="row">
  <div class="containt">      

    <div class="sub-heading">

        <h3>Notification</h3>
        <hr>
     </div>
     <mat-card>
       
      <div class="row">

        <h3>Risk Assesment Notification</h3>

        <!-- <mat-form-field>
          <mat-label>Filter</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
        </mat-form-field>
              -->
        <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8 mt-4" style="position: sticky;">
  
          <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->
                 
  
          <!-- Sr no. Column -->
          <ng-container matColumnDef="sr_no">
            <th mat-header-cell *matHeaderCellDef> Sr no. </th>
            <td mat-cell *matCellDef="let element; let i= index;"> {{ i + 1 }} </td>
          </ng-container>         
          
          <!-- Status Column -->
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let row"> 
              <span *ngIf="row.status == false"> <b>Open</b> </span>
              <span *ngIf="row.status == true"> <b>Closed</b> </span>
            </td>
          </ng-container>
        
          <!-- Location Column -->
          <ng-container matColumnDef="locationname">
            <th mat-header-cell *matHeaderCellDef> Location </th>
            <td mat-cell *matCellDef="let row"> {{row.locationname}} </td>
          </ng-container>
  
          <!-- Notification Column -->
          <ng-container matColumnDef="notification">
            <th mat-header-cell *matHeaderCellDef> Notification </th>
            <td mat-cell *matCellDef="let row"> {{row.data.notification}} </td>
          </ng-container>
  
          <!-- Opened At Column -->
          <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef> Opened At </th>
            <td mat-cell *matCellDef="let row"> {{row.send_time | date:'medium' }} </td>
          </ng-container>
  
  
          <!-- Closed At Column -->
          <ng-container matColumnDef="updatedAt">
            <th mat-header-cell *matHeaderCellDef> Closed At </th> 
            <td mat-cell *matCellDef="let row"> {{row.action_taken_time | date:'medium' }} </td>             
          </ng-container>
        
          <!-- TaT Column -->
          <ng-container matColumnDef="tat">
            <th mat-header-cell *matHeaderCellDef> TaT </th>
            <td mat-cell *matCellDef="let row"> {{row.tat}} </td>
          </ng-container>
  
          <!-- Remark Column -->
          <ng-container matColumnDef="remark">
            <th mat-header-cell *matHeaderCellDef> Remark </th>
            <td mat-cell *matCellDef="let row"> {{row.remarks}} </td>
          </ng-container>
  
          <!-- Action Column -->
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Action </th>
            <td mat-cell *matCellDef="let row"> 
              <span  *ngIf="row.status == true"><i class="fa fa-eye" aria-hidden="true" ></i></span> 
              <span  *ngIf="row.status == false" ><i class="fa fa-eye" aria-hidden="true" (click)="getnotificationdetails(row._id,row.client)"  ></i></span> 
             </td>
            
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>  
  
        <mat-paginator #subTablePaginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>

       </div>

     </mat-card>
  


     <br/>
     <hr>
     <br>

     <mat-card>
      
    <div class="row">
      <h3>Health Notification</h3>
      
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 mt-4"  style="position:sticky">

          <!--- Note that these columns can be defined in any order.
                The actual rendered columns are set as a property on the row definition" -->
                 

          <!-- Sr no. Column -->
          <ng-container matColumnDef="sr_no">
            <th mat-header-cell *matHeaderCellDef> Sr no. </th>
            <td mat-cell *matCellDef="let element; let i= index;"> {{ i + 1 }} </td>
          </ng-container>         
          
          <!-- Status Column -->
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> Status </th> 
            <td mat-cell *matCellDef="let row"> 
              <span *ngIf="row.status == false"> <b>Open</b> </span>
              <span *ngIf="row.status == true"> <b>Closed</b> </span>  
            </td>
          </ng-container>
        
          <!-- Location Column -->
          <ng-container matColumnDef="locationname">
            <th mat-header-cell *matHeaderCellDef> Location </th>
            <td mat-cell *matCellDef="let row"> {{row.locationname}} </td>
          </ng-container>

          <!-- Notification Column -->
          <ng-container matColumnDef="notification">
            <th mat-header-cell *matHeaderCellDef> Notification </th>
            <td mat-cell *matCellDef="let row"> {{row.data.notification}} </td>
          </ng-container>

          <!-- Opened At Column -->
          <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef> Opened At </th>
            <td mat-cell *matCellDef="let row"> {{row.send_time | date:'medium' }} </td>

          </ng-container>


          <!-- Closed At Column -->
          <ng-container matColumnDef="updatedAt">
            <th mat-header-cell *matHeaderCellDef> Closed At </th> 
            <td mat-cell *matCellDef="let row"> {{row.action_taken_time | date:'medium' }} </td>             
          </ng-container>
        
          <!-- TaT Column -->
          <ng-container matColumnDef="tat">
            <th mat-header-cell *matHeaderCellDef> TaT </th>
            <td mat-cell *matCellDef="let row"> {{row.tat}} </td>
          </ng-container>

          <!-- Remark Column -->
          <ng-container matColumnDef="remark">
            <th mat-header-cell *matHeaderCellDef> Remark </th>
            <td mat-cell *matCellDef="let row"> {{row.remarks}} </td>
          </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Action </th>
            <td mat-cell *matCellDef="let row">
               <span  *ngIf="row.status == true"><i class="fa fa-eye" aria-hidden="true" ></i></span> 
               <span  *ngIf="row.status == false" ><i class="fa fa-eye" aria-hidden="true" (click)="getnotificationdetails(row._id,row.client)"  ></i></span> </td> 
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>     
        <mat-paginator #TablePaginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
     
    </div>
                  
  </mat-card>

  </div>
  
</div>



